"use strict";function ib(){let e=document.querySelectorAll(".ib");for(let t=0;t<e.length;t++)e[t].querySelector(".ib_use")&&(e[t].style.backgroundImage="url("+e[t].querySelector(".ib_use").getAttribute("src")+")")}if(ib(),$(document).ready(function(){let e=null,t=null;const l=$(".header__tabs-brand").select2({ajax:{url:"https://alexkotsubo.github.io/recalls/src/brands.json",dataType:"json",type:"GET",processResults:function(e){return{results:$.map(e.brands,function(e){return{text:e.name,id:e.name.toLowerCase()}})}}},placeholder:"Choose Car Brand",allowClear:!0}),r=$(".header__tabs-model").select2({ajax:{url:"https://alexkotsubo.github.io/recalls/src/brands.json",dataType:"json",type:"GET",processResults:function(t){if(e){const l=$.map(t.brands,t=>{if(t.name.toLowerCase()===e.toLowerCase())return t.models});return{results:$.map(l,function(e){return{text:e.model,id:e.model.toLowerCase()}})}}}},placeholder:"Choose Model",allowClear:!0}),s=$(".header__tabs-year").select2({placeholder:"Choose Year",allowClear:!0,ajax:{url:"https://alexkotsubo.github.io/recalls/src/brands.json",dataType:"json",type:"GET",processResults:function(l){if(t){const r=$.map(l.brands,l=>{if(l.name.toLowerCase()===e.toLowerCase())return $.map(l.models,e=>{if(e.model.toLowerCase()===t.toLowerCase())return e.years})});return{results:$.map(r,function(e){return{text:e,id:e.toLowerCase()}})}}}}});l.on("change",function(t){l.val()?(e=l.val(),r.prop("disabled",!1)):(e=null,r.val(null).trigger("change"),s.val(null).trigger("change"),r.prop("disabled",!0),s.prop("disabled",!0))}),r.on("change",function(e){l.val()&&(r.val()?(t=r.val(),s.prop("disabled",!1)):(t=null,s.val(null).trigger("change"),s.prop("disabled",!0)))}),l.val(null).trigger("change"),r.val(null).trigger("change"),s.val(null).trigger("change");const a=document.querySelector(".header__tabs"),n=a.querySelectorAll(".header__tabs-btn"),o=a.querySelectorAll(".header__tabs-tab");let i=0;for(let e=0,t=n.length;e<t;e++)n[i].classList.add("active"),o[i].classList.add("active"),o[e].classList.add("disabled"),n[e].addEventListener("click",function(t){n[i].classList.remove("active"),o[i].classList.remove("active"),n[e].classList.add("active"),o[e].classList.add("active"),i=e})}),window.addEventListener("load",e=>{const t=document.querySelectorAll(".open-block");for(let e=0,r=t.length;e<r;e++){const r=t[e].querySelector(".open-block__content"),s=t[e].querySelector(".open-block__btn"),a=r.getAttribute("data-start-height").split(", ");let n=t[e].querySelector(a[3]).offsetHeight,o=0,i=!1;function l(l){n=t[e].querySelector(a[3]).offsetHeight,o="null"===a[2]?t[e].querySelector(a[1]).offsetHeight*+a[0]:a[2],l&&(r.style.height=i?n+"px":o+"px")}window.addEventListener("resize",l),l(),o>=n?s.classList.add("disabled"):(r.style.height=o+"px",s.addEventListener("click",function(e){i?(r.style.height=o+"px",i=!1):(r.style.height=n+"px",i=!0)}))}}),document.addEventListener("DOMContentLoaded",function(e){if(document.querySelector(".recallsby-slider")){new Swiper(".recallsby-slider",{spaceBetween:30,navigation:{nextEl:".recallsby__btns-next",prevEl:".recallsby__btns-prev"},breakpoints:{320:{slidesPerView:3},500:{slidesPerView:6},768:{slidesPerView:10},992:{slidesPerView:12}}});const e=document.querySelectorAll(".recallsby-slider__num");let t=[],l=0;for(let r=0,s=e.length;r<s;r++){const s=e[r].innerHTML;t[r]=+s,+s>l&&(l=+s)}const r=document.querySelectorAll(".recallsby-slider__chart");for(let e=0,s=r.length;e<s;e++)r[e].style.height=t[e]/l*90+"px"}}),document.querySelector(".year__model")){const e=new Swiper(".year__slider",{spaceBetween:30,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{320:{slidesPerView:3},576:{slidesPerView:5}}});new Swiper(".year__slider2",{spaceBetween:10,thumbs:{swiper:e}})}if(document.querySelector(".year__sliders")){new Swiper(".years__slider",{navigation:{nextEl:".years__btns-next",prevEl:".years__btns-prev"},breakpoints:{320:{slidesPerView:3},500:{slidesPerView:6},768:{slidesPerView:10},992:{slidesPerView:14},1200:{slidesPerView:17}}})}